import { c as create_ssr_component, d as add_attribute, f as each, e as escape } from "../../chunks/ssr.js";
import "devalue";
import "../../chunks/client.js";
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let contacts;
  let filteredContacts;
  let { data } = $$props;
  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);
  ({ contacts } = data);
  filteredContacts = () => {
    if (data.search) {
      return contacts.filter((contact) => {
        return contact.firstname.toLowerCase().includes(data.search.toLowerCase()) || contact.lastname.toLowerCase().includes(data.search.toLowerCase());
      });
    } else {
      return contacts;
    }
  };
  return `${$$result.head += `<!-- HEAD_svelte-jd2usu_START -->${$$result.title = `<title>Contacts App</title>`, ""}<!-- HEAD_svelte-jd2usu_END -->`, ""} <div class="mx-auto w-full max-w-7xl py-6 sm:px-6 lg:px-8"><div class="py-10"><div class="px-4 sm:px-6 lg:px-8"><div class="sm:flex sm:align-middle" data-svelte-h="svelte-1ymnf65"><div class="flex-auto"><h1 class="text-base font-semibold leading-6 text-gray-900">Contacts</h1> <p class="mt-1 text-sm text-gray-500">A list of all the contacts</p></div> <div class="mt-4 sm:mt-0 sm:ml-16 sm:flex-none"><a href="/add" class="block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 bio bou bov box bpe">Add User</a></div></div> <div class="mt-8 flow-root"><div class="flex flex-col"><div class="sm:flex sm:items-center ms-auto"><div class="w-full max-w-lg lg:max-w-xs"><label for="search" class="sr-only" data-svelte-h="svelte-1dv9o7r">Search</label> <div class="relative text-gray-400 focus-within:text-gray-600"><div class="pointer-events-none absolute inset-y-0 left-0 flex align-middle pl-3" data-svelte-h="svelte-chu2zd"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="w-5 h-5 m-auto"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg></div> <input id="search" class="block w-full rounded-md border-0 bg-gray-200 py-1.5 pl-10 pr-3 text-gray-900 focus:shadow-sm focus:ring-1 focus:ring-indigo-500 sm:text-sm sm:leading-6" placeholder="Search" type="search" name="search"${add_attribute("value", data.search, 0)}></div></div></div> <div class="inline-block min-w-full py-2 align-middle"><table class="min-w-full border-separate border-spacing-0"><thead data-svelte-h="svelte-2zjmnp"><tr><th scope="col" class="sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 backdrop-blur">Full Name</th> <th scope="col" class="sticky top-0 z-10 hidden border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur md:table-cell">Phone</th> <th scope="col" class="sticky top-0 z-10 hidden border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur lg:table-cell">Street Address</th> <th scope="col" class="sticky top-0 z-10 hidden border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur lg:table-cell">State</th> <th scope="col" class="sticky top-0 z-10 hidden border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur lg:table-cell">Postal Code</th> <th scope="col" class="sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 pl-3 pr-4 backdrop-blur sm:pr-6 lg:pr-8"><span class="sr-only">Edit</span></th></tr></thead> <tbody class="divide-y divide-gray-300">${each(filteredContacts(), (contact) => {
    return `<tr><td class="whitespace-nowrap py-5 pl-4 pr-3 text-sm font-medium text-gray-900"><div class="flex align-middle"><div class="jx"><div class="font-medium text-gray-900">${escape(contact.firstname)} ${escape(contact.lastname)}</div> <div class="mt-1 text-gray-500">${escape(contact.email)}</div> <div class="mt-1 text-gray-500 md:hidden">${escape(contact.phone)}</div></div> </div></td> <td class="whitespace-nowrap hidden py-5 px-3 text-sm font-medium text-gray-900 md:table-cell">${escape(contact.phone)}</td> <td class="whitespace-nowrap hidden py-5 px-3 text-sm font-medium text-gray-900 lg:table-cell">${escape(contact.address)}</td> <td class="whitespace-nowrap hidden py-5 px-3 text-sm font-medium text-gray-900 lg:table-cell">${escape(contact.state)}</td> <td class="whitespace-nowrap hidden py-5 px-3 text-sm font-medium text-gray-900 lg:table-cell">${escape(contact.postal)}</td> <td class="whitespace-nowrap py-5 px-3 text-sm font-medium text-gray-900"><a href="${"/update/" + escape(contact._id, true)}" class="pr-4 text-indigo-600 hover:text-indigo-900">Edit<span class="sr-only">${escape(contact.name)}</span></a> <form action="?/delete" method="POST" class="inline"><input type="hidden" name="contactId"${add_attribute("value", contact._id, 0)}> <button class="text-orange-600 hover:text-orange-900" type="submit">Delete<span class="sr-only">${escape(contact.name)}</span></button> </form></td> </tr>`;
  })}</tbody></table></div></div></div></div></div></div>`;
});
export {
  Page as default
};
